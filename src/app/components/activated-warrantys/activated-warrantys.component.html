<section class="py-5 my-5">
  <div class="container">
    <!-- <div class="d-flex">
      <input
        type="text"
        class="form-control"
        [(ngModel)]="searchTerm"
        (input)="applySearchFilter()"
        placeholder="Search By serial"
      />

    </div> -->

    <button
      class="btn btn-secondary mb-2 rounded-0"
      (click)="exportData()"
      style="min-width: 140px"
    >
      Export Table
    </button>

    <div class="mat-elevation-z8">
      <table
        mat-table
        [dataSource]="dataSource"
        matSort
        class="mat-table"
        id="activatedWarrantysTable"
      >
        <!-- Owner Column -->
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Owner</th>
          <td mat-cell *matCellDef="let warranty">{{ warranty.name }}</td>
        </ng-container>

        <!-- Phone Number Column -->
        <ng-container matColumnDef="phoneNumber">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            Phone Number
          </th>
          <td mat-cell *matCellDef="let warranty">
            {{ warranty.phoneNumber }}
          </td>
        </ng-container>

        <!-- Serial Column -->
        <ng-container matColumnDef="serialNumber">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Serial</th>
          <td mat-cell *matCellDef="let warranty">
            {{ warranty.serialNumber }}
          </td>
        </ng-container>

        <!-- Address Column -->
        <ng-container matColumnDef="address">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Address</th>
          <td mat-cell *matCellDef="let warranty">{{ warranty.address }}</td>
        </ng-container>

        <!-- Birthdate Column -->
        <ng-container matColumnDef="birthdate">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Birthdate</th>
          <td mat-cell *matCellDef="let warranty">
            {{ warranty.birthdate | date : "yyyy-MM-dd" }}
          </td>
        </ng-container>

        <!-- Created At Column -->
        <ng-container matColumnDef="createdAt">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Created At</th>
          <td mat-cell *matCellDef="let warranty">
            {{ warranty.createdAt | date : "yyyy-MM-dd" }}
          </td>
        </ng-container>

        <!-- Brand Column -->
        <ng-container matColumnDef="brand">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Brand</th>
          <td mat-cell *matCellDef="let warranty">{{ warranty.brand }}</td>
        </ng-container>

        <!-- Model Column -->
        <ng-container matColumnDef="model">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Model</th>
          <td mat-cell *matCellDef="let warranty">{{ warranty.model }}</td>
        </ng-container>

        <!-- Color Column -->
        <ng-container matColumnDef="color">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Color</th>
          <td mat-cell *matCellDef="let warranty">{{ warranty.color }}</td>
        </ng-container>

        <!-- Image Column -->
        <ng-container matColumnDef="image">
          <th mat-header-cell *matHeaderCellDef>Image</th>
          <td mat-cell *matCellDef="let warranty">
            <button
              type="button"
              class="btn p-0"
              (click)="openImgTap(getImgPath(warranty.imagePath))"
            >
              <img
                [src]="getImgPath(warranty.imagePath)"
                alt="no Image"
                class="warranty-img"
              />
            </button>
          </td>
        </ng-container>

        <!-- Action Column -->
        <ng-container matColumnDef="action">
          <th mat-header-cell *matHeaderCellDef>Action</th>
          <td mat-cell *matCellDef="let warranty">
            <button
              class="btn btn-danger"
              (click)="deleteSerial(warranty.serialNumber)"
            >
              <i class="fa fa-trash"></i>
            </button>
          </td>
        </ng-container>

        <!-- Table Rows -->
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>

      <!-- Paginator -->
      <mat-paginator
        [pageSizeOptions]="paginatorNumbers"
        showFirstLastButtons
        aria-label="Select page"
      ></mat-paginator>
    </div>
  </div>
</section>

<!-- Modal -->
<div
  class="modal fade"
  id="exampleModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <img [src]="fullScreenImg" alt="warranty" class="modal-img" />
  </div>
</div>
